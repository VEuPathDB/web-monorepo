database         = gus

global_timeout   = 500
slave_timeout    = 200

# default width of detailed view (pixels)
default width = 800
default features = Gene

automatic classes = Gene EST

# scale of viewable image width (1.0 implies fast track panning is turned off)
details multiplier=1

# balloon tips on and drag off
balloon tips  = 1
drag and drop = 1

# EuPathDB for better subtrack label display on the left
pad_left            = 120

# Web site configuration info
#gbrowse root = gbrowse
stylesheet   = /assets/css/eupath_gbrowse.css
#buttons      = images/buttons
#js           = js
#tmpimages    = tmp

show sources = 0
default varying = 1 # tracks appear as defined below, not in alphabetical order

# colors of the overview, detailed map and key
overview bgcolor = lightgrey
detailed bgcolor = lightgoldenrodyellow
key bgcolor      = beige

init_code = use vars qw( $CFG );
            use GBrowse::Configuration;
            use GBrowse::Display;
            use GBrowse::Filter;
            use GBrowse::PopupAndLinks;
            $CFG = new GBrowse::Configuration;

# inside the <head></head> section
head = <script type='text/javascript' src='/a/js/newwindow.js'></script>

#header = \&myheader();
head = \&myheader();
footer = \&myfooter();

# Various places where you can insert your own HTML -- see configuration docs
html1 = sub { GBrowse::Display::warnNote(shift, lc($ENV{PROJECT_ID})) }
html2 = 
html3 = <script type="text/javascript" src="/gbrowse/apiGBrowsePopups.js"></script> 
html4 =  
html5 = 
html6 = <script type="text/javascript" src="/gbrowse/wz_tooltip.js"></script>

postgrid = \&mypostgrid();



[OVERVIEW SELECT MENU]
width = 100 
html  =  <table style="width:100%">
         <tr> 
           <th style="background:lightgrey">
              Overview
           </th>
          </tr>
          <tr>
            <td>
              <span style="color:blue;cursor:pointer" onclick="SelectArea.prototype.clearAndSubmit()">
              Zoom
              </span>
            </td>
          </tr>
          <tr>
            <td>
              <span style="color:blue;cursor:pointer" onclick="SelectArea.prototype.cancelRubber()">
              Cancel
              </span>
            </td>
           </tr>
        </table>

[REGION SELECT MENU]
width = 250
html  = <table style="width:100%">
          <tr>
            <th style="background:lightgrey;cell-padding:5">
              SELECTION
              <span style="right:0px;position:absolute;color:blue;cursor:pointer"
                   onclick="SelectArea.prototype.cancelRubber()">
              [X]
              </span>
            </th>
          </tr>
          <tr>
            <td>
              <span style="color:blue;cursor:pointer" onclick="SelectArea.prototype.clearAndSubmit()">
              Zoom in
              </span>
            </td>
          </tr>
          <tr>
            <td>
              <span style="color:blue;cursor:pointer" onclick="SelectArea.prototype.clearAndRecenter()">
               Recenter on this region
               </span>
             </td>
           </tr>
           <tr>
             <td onmouseup="SelectArea.prototype.cancelRubber()">
               <a href="?plugin=FastaDumper;plugin_action=Go;name=SELECTION" target="_BLANK">
                Dump selection as FASTA
                </a>
              </td>
            </tr>
            <tr>
              <td onmouseup="SelectArea.prototype.cancelRubber()">
                <a href="?name=SELECTION;plugin=Submitter;plugin_do=Go;Submitter.target=UCSC_BLAT" target="_BLANK">
                Submit selection to UCSC BLAT
                </a>
              </td>
             </tr>
             <tr>
               <td onmouseup="SelectArea.prototype.cancelRubber()">
                 <a href="?name=SELECTION;plugin=Submitter;plugin_do=Go;Submitter.target=NCBI_BLAST" target="_BLANK">
                 Submit selection to NCBI BLAST
                 </a>
               </td>
             </tr>
           </table>

[DETAIL SELECT MENU] 
width = 250
html  = <table style="width:100%">
          <tr>
            <th style="background:lightgrey;cell-padding:5">
              SELECTION
              <span style="right:0px;position:absolute;color:blue;cursor:pointer"
                   onclick="SelectArea.prototype.cancelRubber()">
              [X]
              </span>
            </th>
          </tr>
          <tr>
            <td>
              <span style="color:blue;cursor:pointer" onclick="SelectArea.prototype.clearAndSubmit()">
              Zoom in
              </span>
            </td>
          </tr>
          <tr>
            <td>
              <span style="color:blue;cursor:pointer" onclick="SelectArea.prototype.clearAndRecenter()">
               Recenter on this region
               </span>
             </td>
           </tr>
           <tr>
             <td onmouseup="SelectArea.prototype.cancelRubber()">
               <a href="?plugin=FastaDumper;plugin_action=Go;name=SELECTION" target="_BLANK">
                Dump selection as FASTA
                </a>
              </td>
            </tr>
            <tr>
              <td onmouseup="SelectArea.prototype.cancelRubber()">
                <a href="?name=SELECTION;plugin=Submitter;plugin_do=Go;Submitter.target=UCSC_BLAT" target="_BLANK">
                Submit selection to UCSC BLAT
                </a>
              </td>
             </tr>
             <tr>
               <td onmouseup="SelectArea.prototype.cancelRubber()">
                 <a href="?name=SELECTION;plugin=Submitter;plugin_do=Go;Submitter.target=NCBI_BLAST" target="_BLANK">
                 Submit selection to NCBI BLAST
                 </a>
               </td>
             </tr>
           </table>

[Submitter:plugin]
submitter = [UCSC_BLAT]
            url        = http://genome.ucsc.edu/cgi-bin/hgBlat
            seq_label  = userSeq
            output     = hyperlink
            type       = DNA
            extra_html = Genome: 
            <SELECT NAME="org">
            <OPTION SELECTED VALUE="Human">Human</OPTION>
            <OPTION VALUE="Chimp">Chimp</OPTION>
            <OPTION VALUE="Gorilla">Gorilla</OPTION>
            <OPTION VALUE="Orangutan">Orangutan</OPTION>
            <OPTION VALUE="Gibbon">Gibbon</OPTION>
            <OPTION VALUE="Rhesus">Rhesus</OPTION>
            <OPTION VALUE="Marmoset">Marmoset</OPTION>
            <OPTION VALUE="Mouse">Mouse</OPTION>
            <OPTION VALUE="Rat">Rat</OPTION>
            <OPTION VALUE="Guinea pig">Guinea pig</OPTION>
            <OPTION VALUE="Rabbit">Rabbit</OPTION>
            <OPTION VALUE="Pig">Pig</OPTION>
            <OPTION VALUE="Sheep">Sheep</OPTION>
            <OPTION VALUE="Cow">Cow</OPTION>
            <OPTION VALUE="Horse">Horse</OPTION>
            <OPTION VALUE="Cat">Cat</OPTION>
            <OPTION VALUE="Dog">Dog</OPTION>
            <OPTION VALUE="Panda">Panda</OPTION>
            <OPTION VALUE="Microbat">Microbat</OPTION>
            <OPTION VALUE="Elephant">Elephant</OPTION>
            <OPTION VALUE="Opossum">Opossum</OPTION>
            <OPTION VALUE="Wallaby">Wallaby</OPTION>
            <OPTION VALUE="Platypus">Platypus</OPTION>
            <OPTION VALUE="Chicken">Chicken</OPTION>
            <OPTION VALUE="Turkey">Turkey</OPTION>
            <OPTION VALUE="Zebra finch">Zebra finch</OPTION>
            <OPTION VALUE="Lizard">Lizard</OPTION>
            <OPTION VALUE="X. tropicalis">X. tropicalis</OPTION>
            <OPTION VALUE="Zebrafish">Zebrafish</OPTION>
            <OPTION VALUE="Tetraodon">Tetraodon</OPTION>
            <OPTION VALUE="Fugu">Fugu</OPTION>
            <OPTION VALUE="Stickleback">Stickleback</OPTION>
            <OPTION VALUE="Medaka">Medaka</OPTION>
            <OPTION VALUE="Lamprey">Lamprey</OPTION>
            <OPTION VALUE="Sea hare">Sea hare</OPTION>
            <OPTION VALUE="Lancelet">Lancelet</OPTION>
            <OPTION VALUE="C. intestinalis">C. intestinalis</OPTION>
            <OPTION VALUE="S. purpuratus">S. purpuratus</OPTION>
            <OPTION VALUE="C. elegans">C. elegans</OPTION>
            <OPTION VALUE="C. brenneri">C. brenneri</OPTION>
            <OPTION VALUE="C. briggsae">C. briggsae</OPTION>
            <OPTION VALUE="C. remanei">C. remanei</OPTION>
            <OPTION VALUE="C. japonica">C. japonica</OPTION>
            <OPTION VALUE="P. pacificus">P. pacificus</OPTION>
            <OPTION VALUE="D. melanogaster">D. melanogaster</OPTION>
            <OPTION VALUE="D. simulans">D. simulans</OPTION>
            <OPTION VALUE="D. sechellia">D. sechellia</OPTION>
            <OPTION VALUE="D. yakuba">D. yakuba</OPTION>
            <OPTION VALUE="D. erecta">D. erecta</OPTION>
            <OPTION VALUE="D. ananassae">D. ananassae</OPTION>
            <OPTION VALUE="D. pseudoobscura">D. pseudoobscura</OPTION>
            <OPTION VALUE="D. persimilis">D. persimilis</OPTION>
            <OPTION VALUE="D. virilis">D. virilis</OPTION>
            <OPTION VALUE="D. mojavensis">D. mojavensis</OPTION>
            <OPTION VALUE="D. grimshawi">D. grimshawi</OPTION>
            <OPTION VALUE="A. gambiae">A. gambiae</OPTION>
            <OPTION VALUE="A. mellifera">A. mellifera</OPTION>
            <OPTION VALUE="S. cerevisiae">S. cerevisiae</OPTION>
            </SELECT>

            [NCBI_BLAST]
            confirm   = 1
            url       = http://www.ncbi.nlm.nih.gov/blast/Blast.cgi
            seq_label = QUERY
            PAGE      = Nucleotides
            PROGRAM   = blastn
            DATABASE  = nr
            CLIENT    = web
            CMD       = put 

[TRACK DEFAULTS]
glyph       = generic
height      = 6 
bgcolor     = black
fgcolor     = black
database    = gus
label density = 30
bump density  = 1000 
link = javascript:void(0)
link_target = _self
balloon sticky  = 1

#################################
# database definitions
#################################

[gus:database]
db_adaptor    = DAS::GUS
db_args       = sub { GBrowse::Configuration::init('gbrowseQueries.xml') }
