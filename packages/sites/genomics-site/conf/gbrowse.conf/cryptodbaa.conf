[GENERAL]
description   = CryptoDB Protein Sequence Browser
db_adaptor    = DAS::GUS
db_args       = sub { GBrowse::Configuration::init('pbrowseQueries.xml') }

# important EuPathDB set this id to 1
image_id      = 1

# Web site configuration info
gbrowse root = gbrowse
stylesheet   = gbrowse.css
buttons      = images/buttons
js           = js
tmpimages    = tmp

balloon tips  = 1
drag and drop = 0

link        =

# default width of detailed view (pixels)
default width = 800
default features = PfamDomains SignalP TMHMM LowComplexity BLASTP

# colors of the overview, detailed map and key
overview bgcolor = lavenderblush
detailed bgcolor = thistle
key bgcolor      = mistyrose

# examples to show in the introduction
examples = EAK90506.1
           cgd6_690
           cgd7_1860
           Kinase
           "Transmembrane Protein"

# "automatic" classes to try when an unqualified identifier is given
automatic classes = protein

footer = <hr>

# Various places where you can insert your own HTML -- see configuration docs
html1 = <script type="text/javascript" src="/gbrowse/apiGBrowsePopups.js"></script>
html2 = 
html3 = 
html4 = 
html5 = 
html6 = <script language="JavaScript" type="text/javascript" src="/gbrowse/wz_tooltip.js"></script>

init_code = use vars qw( $CFG );
            use GBrowse::Configuration;
            use GBrowse::Display;
            use GBrowse::Filter;
            use GBrowse::PopupAndLinks;
            $CFG = new GBrowse::Configuration;

### TRACK CONFIGURATION ####
# the remainder of the sections configure individual tracks

###################################
# Plugin configuration
###################################
[WastlingMassSpecPeptides]
feature      = domain:MassSpecPeptides
filter       = sub { GBrowse::Filter::filterMassSpecByExtDbNameAndDepth(shift,\$CFG,'WastlingMassSpecPeptides','Wastling MassSpec',5) };
#filter       = sub { GBrowse::Filter::filterByExtDbName(shift, 'Wastling MassSpec') }
glyph        = segments
font2color   = black
fgcolor =  white
bgcolor      = sub { GBrowse::Display::massSpecBgColorFromExtDbName(shift) }
height       = sub { GBrowse::Display::heightByCount(shift,32) }
pad_bottom   = -1 
description  = 0 
link	=  javascript:void(0)
title  = sub {}
#bump density = 200
#link_target density = 100; # custom attribute
link_target  = sub { GBrowse::PopupAndLinks::massSpecTitle(shift, 'Wastling MassSpec') }
label 		 = 0
key       = MS/MS Peptides (Wastling, et al.)
citation  = <b>Preliminary</b> analysis by J.M.
             Wastling, S. Sanderson, D. Xia and A.Z. Siddiki. 
             Departments of Pre-Clinical Veterinary Science & Veterinary Pathology, University of Liverpool, 
             Crown Street, Liverpool, United Kingdom L69 7ZJ<br><b>A significantly more comprehensive analysis is forthcoming</b>.

[LoweryMassSpecPeptides]
feature      = domain:MassSpecPeptides
filter       = sub { GBrowse::Filter::filterMassSpecByExtDbNameAndDepth(shift,\$CFG,'LoweryMassSpecPeptides','Lowery MassSpec',5) };
#filter       = sub { GBrowse::Filter::filterByExtDbName(shift, 'Lowery MassSpec') }
glyph        = segments
font2color   = black
fgcolor =  white
bgcolor      = sub { GBrowse::Display::massSpecBgColorFromExtDbName(shift) }
height       = sub { GBrowse::Display::heightByCount(shift,32) }
pad_bottom   = -1 
description  = 0 
link	=  javascript:void(0)
title  = sub {}
#bump density = 200
#link_target density = 100; # custom attribute
#link_target  = sub { $CFG->link_target_ms_peptides( @_ ) }
link_target  = sub { GBrowse::PopupAndLinks::massSpecTitle(shift, 'Lowery MassSpec') }
label 		 = 0
key       = MS/MS Peptides (Snelling, et al.)
citation  =  Analysis by William J. Snelling<sup>1</sup>, Qishan Lin<sup>2</sup>, John E. Moore<sup>3</sup>, B. Cherie Millar<sup>3</sup>,
             Fabio Tosini<sup>4</sup>, Edoardo Pozio<sup>4</sup>, James S.G. Dooley<sup>1</sup>, and Colm J. Lowery<sup>1</sup><br>
             <sup>1</sup>Centre for Molecular Biosciences, School of Biomedical Sciences,
             University of Ulster, Cromore Road, Coleraine, County Londonderry, N.
             Ireland, BT52 1SA.
             <sup>2</sup>UAlbany Proteomics Facility, Centre for Functional Genomics, University of
             Albany, One Discovery Drive, Rensselaer, NY 12144.
             <sup>3</sup>Northern Ireland Public Health Laboratory, Department of Bacteriology,
             Belfast City Hospital, Belfast, N. Ireland, BT9 7AD.
             <sup>4</sup>Department of Infectious, Parasitic, and Immunomediated Diseases, Istituto
             Superiore di Sanit&#224;, Rome, Italy.<br>
             <a href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=Retrieve&db=pubmed&dopt=Abstract&list_uids=17124246">
   		    Proteomics analysis and protein expression during sporozoite excystation of Cryptosporidium parvum (Coccidia, Apicomplexa).
		    Mol. Cell Proteomics 2007 Feb;6(2):346-55
		    </a>


[EinsteinMassSpecPeptides]
feature      = domain:MassSpecPeptides
filter       = sub { GBrowse::Filter::filterMassSpecByExtDbNameAndDepth(shift,\$CFG,'EinsteinMassSpecPeptides','Fiser_Proteomics',5) };
#filter       = sub { GBrowse::Filter::filterByExtDbName(shift, 'Fiser_Proteomics') }
glyph        = segments
font2color   = black
fgcolor =  white
bgcolor      = sub { GBrowse::Display::massSpecBgColorFromExtDbName(shift) }
height       = sub { GBrowse::Display::heightByCount(shift,32) }
pad_bottom   = -1 
description  = 0 
link	=  javascript:void(0)
title  = sub {}
link_target  = sub { GBrowse::PopupAndLinks::massSpecTitle(shift, 'Fiser_Proteomics') }
label 		 = 0
key       = MS/MS Peptides (Einstein, et al.)

[FerrariMassSpecPeptides]
feature      = domain:MassSpecPeptides
filter       = sub { GBrowse::Filter::filterMassSpecByExtDbNameAndDepth(shift,\$CFG,'FerrariMassSpecPeptides','Ferrari_Proteomics',5) };
#filter       = sub { GBrowse::Filter::filterByExtDbName(shift, 'Ferrari_Proteomics') }
glyph        = segments
font2color   = black
fgcolor =  white
bgcolor      = sub { GBrowse::Display::massSpecBgColorFromExtDbName(shift) }
height       = sub { GBrowse::Display::heightByCount(shift,32) }
pad_bottom   = -1 
description  = 0 
link	=  javascript:void(0)
title  = sub {}
link_target  = sub { GBrowse::PopupAndLinks::massSpecTitle(shift,'Ferrari_Proteomics') }
label 		 = 0
key       = MS/MS Peptides (Ferrari)


[PutignaniMassSpecPeptides]
feature      = domain:MassSpecPeptides
filter       = sub { GBrowse::Filter::filterMassSpecByExtDbNameAndDepth(shift,\$CFG,'PutignaniMassSpecPeptides','C. parvum mass spec',5) };
#filter       = sub { GBrowse::Filter::filterByExtDbName(shift, 'C. parvum mass spec') }
glyph        = segments
font2color   = black
fgcolor =  white
bgcolor      = sub { GBrowse::Display::massSpecBgColorFromExtDbName(shift) }
height       = sub { GBrowse::Display::heightByCount(shift,32) }
pad_bottom   = -1
description  = 0
link    =  javascript:void(0)
title  = sub {}
link_target  = sub { GBrowse::PopupAndLinks::massSpecTitle(shift,'C. parvum mass spec') }
label            = 0
key       = MS/MS Peptides (Putignani)



[InterproDomains]
feature      = domain:interpro
glyph        = segments
font2color   = black
bgcolor      = sub { my $f = shift;
                     $main::seenPfam{$f->feature_id} ||= $main::rainbow[scalar(keys %main::seenPfam) % scalar(@main::rainbow)]; 
                     return $main::seenPfam{$f->feature_id}; 
                   } 
#bgcolor      = sub { GBrowse::Display::interproDomainRainbow(shift) }
height       = 8 
link_target  = sub { GBrowse::PopupAndLinks::interproTitle(shift) }
description  = 0
label        = 1
link	=  javascript:void(0)
#link         = sub { GBrowse::PopupAndLinks::interproLink(shift) }
key          = InterPro Domains
citation     = Interpro: PFam, PIR, Prints, Prodom, Smart, Superfamily, TIGRFAM, Prosite

[SignalP]
feature      = domain:SignalP
glyph        = segments
font2color   = black
bgcolor      = navy
height       = 8 
title        = sub { GBrowse::PopupAndLinks::signalpTitle(shift) }
label        = 0
description  = 0
key          = Signal Peptide
citation     = Signal peptide predictions by SP-HMM/SP-NN

[TMHMM]
feature      = domain:TMHMM
glyph        = segments
font2color   = black
bgcolor      = navy
height       = 8 
title        = sub { GBrowse::PopupAndLinks::tmhmmTitle(shift) }
link	=  javascript:void(0)
label        = 0
description  = 0
key          = Transmembrane Domains
citation     = Transmembrane domains detected by TmHMM

[HydropathyPlot]
glyph        = protein
global feature = 1
height       = 40
do_kd        = 1
fgcolor      = red
axis_color   = blue
link         = 0
citation     = Kyte-Doolittle hydropathy plot

[SecondaryStructure]
glyph        = secondary_structure
global feature = 1
height       = 40
pad_top      = 16
heading      = Secondary Structure
do_plots     = 1
fgcolor      = red
axis_color   = purple
helix_color  = red
coil_color   = white
strand_color = blue
citation     = PSIPRED secondary structure prediction

[BLASTP]
feature      = match:BLASTP
glyph        = graded_segments
font2color   = black
bgcolor      = red
height       = 8
stranded     = 1
title        = sub { GBrowse::PopupAndLinks::blastpTitle(shift) }
description  = 1
label        = 0
link         = http://www.ncbi.nlm.nih.gov/entrez/viewer.fcgi?db=protein&val=$name
key          = BLASTP Hits
citation     = BLASTP Hits


[LowComplexity]
feature      = lowcomplexity:seg
glyph        = segments
bgcolor      = grey
height       = 6
title        = sub { GBrowse::PopupAndLinks::lowcomplexitySegTitle(shift) }
description  = 0
label        = 0
link         = ""
key          = Low Complexity Regions
citation     = Regions of low sequence complexity, as defined by the <code>seg</code> algorithm
