[GENERAL]
description   = GiardiaDB Protein Sequence Browser
db_adaptor    = DAS::GUS
db_args       = sub { GBrowse::Configuration::init('pbrowseQueries.xml') }

#plugins = AttributeHiliter 
plugins = Aligner FastaDumper GFFDumper BatchDumper

# 'region' or 'contig' would be other typical choices,
reference class  = protein

# Web site configuration info
stylesheet  = /gbrowse/gbrowse.css
buttons     = /gbrowse/images/buttons
js          = /gbrowse/js
tmpimages   = /gbrowse/tmp
# using full url for tmpimages breaks under mod_perl.  Bio::Graphics::Browser 
# calls lookup_uri() on it.
#tmpimages   = http://giardiadb.org/gbrowse/tmp /var/www/giardiadb.org/html/gbrowse/tmp


# Default glyph settings
glyph       = generic
height      = 8
bgcolor     = cyan
fgcolor     = cyan
label density = 25
bump density  = 2000

show sources = 0
default varying = 1 # tracks appear as defined below, not in alphabetical order

# where to link to when user clicks in detailed view
link        = /cgi-bin/gbrowse/giardiadbaa

# what image widths to offer
image widths  = 640 800 1024 1280

# default width of detailed view (pixels)
default width = 800
default features = PfamDomains SignalP TMHMM HydropathyPlot LowComplexity BLASTP

# max and default segment sizes for detailed view
max segment     = 1000000
default segment = 500

# zoom levels
zoom levels    = 100 200 1000 2000 5000 10000

# colors of the overview, detailed map and key
overview bgcolor = lavenderblush
detailed bgcolor = thistle
key bgcolor      = mistyrose

# examples to show in the introduction
examples = GL50803_27266
           Kinase
           "Transmembrane Protein"

# "automatic" classes to try when an unqualified identifier is given
automatic classes = protein

language = en

#empty_tracks = dashed

# a footer
footer = <hr>

# Various places where you can insert your own HTML -- see configuration docs
html1 = 
html2 = 
html3 = 
html4 = 
html5 = 
html6 = <script language="JavaScript" type="text/javascript" src="/gbrowse/wz_tooltip.js"></script>

init_code = @main::rainbow = qw(red green yellow blue khaki pink orange cyan purple);
            use vars qw( $CFG );
            use GBrowse::Configuration;
            use GBrowse::Display;
            use GBrowse::Filter;
            use GBrowse::PopupAndLinks;
            $CFG = new GBrowse::Configuration;
            


### TRACK CONFIGURATION ####
# the remainder of the sections configure individual tracks

###################################
# Plugin configuration
###################################
[RatnerMassSpecPeptides]
feature      = domain:MassSpecPeptides
filter       = sub { GBrowse::Filter::filterMassSpecByExtDbNameAndDepth(shift,\$CFG,'MassSpecPeptides','DTASelect-filter_032108_Proteomics',5) };
glyph        = segments
font2color   = black
fgcolor      = black
bgcolor      = mediumslateblue
height       = sub { GBrowse::Display::heightByCount(shift,32) }
pad_bottom   = -1 
description  = 0 
link	     =  javascript:void(0)
link_target  = sub { GBrowse::PopupAndLinks::massSpecTitle(shift) }
label        = 0
key          = Mass Spec Peptides (Ratner, et al.)
citation  = <b>Preliminary</b> analysis by Daniel Ratner, et al. 
             Department of Bioengineering, University of Washington, 
             William H. Foege Building, Box 355061, Seattle, WA 98195-5061<br>


[InterproDomains]
feature      = domain:interpro
glyph        = segments
font2color   = black
bgcolor      = sub { GBrowse::Display::interproDomainRainbow(shift) }
height       = 8 
description  = 0 
label        = 1 
link_target = sub { GBrowse::PopupAndLinks::interproTitle(shift) } 
link        = sub { GBrowse::PopupAndLinks::interproLink(shift) }
key          = Interpro Domains 
citation     = Interpro: PFam, PIR, Prints, Prodom, Smart, Superfamily, TIGRFAM, Prosite

[SignalP]
feature      = domain:SignalP
glyph        = segments
font2color   = black
bgcolor      = dodgerblue
height       = 10
label        = 0
link         = 0
description  = 0
key          = Signal Peptide
citation     = Signal peptide predictions by SP-HMM/SP-NN

[TMHMM]
feature      = domain:TMHMM
glyph        = segments
font2color   = black
bgcolor      = lightsteelblue
height       = 10 
link_target = sub { GBrowse::PopupAndLinks::tmhmmTitle(shift) }
label        = 0
link         = 0
description  = 0
key          = Transmembrane Domains
citation     = Transmembrane domains detected by TmHMM

[HydropathyPlot]
glyph        = protein
global feature = 1
height       = 40
do_kd        = 1
fgcolor      = red
axis_color   = blue
link         = 0
key          = Kyte-Doolittle Hydropathy Plot
citation     = Kyte-Doolittle hydropathy plot

[BLASTP]
feature      = match:BLASTP
glyph        = graded_segments
font2color   = black
bgcolor      = red
height       = 8
stranded     = 1
link_target = sub { GBrowse::PopupAndLinks::blastpTitle(shift) }
description  = 1
label        = 0
link         = http://ncbi.nlm.nih.gov/entrez/viewer.fcgi?db=protein&val=$name
key          = BLASTP Hits
citation     = BLASTP Hits

[LowComplexity]
feature      = lowcomplexity:seg
glyph        = segments
bgcolor      = grey
height       = 6
title        = sub { GBrowse::PopupAndLinks::lowcomplexitySegTitle(shift) }
description  = 0
label        = 0
link         = ""
key          = Low Complexity Regions
citation     = Regions of low sequence complexity, as defined by the
               <code>seg</code> algorithm
