[GENERAL]
description   = TriTrypDB Protein Sequence Browser
db_adaptor    = DAS::GUS
db_args       = sub { GBrowse::Configuration::init('pbrowseQueries.xml') }

#plugins = AttributeHiliter 
plugins = 

# 'region' or 'contig' would be other typical choices,
reference class  = protein

# Web site configuration info
stylesheet  = /include/gbrowse.css
buttons     = /gbrowse/images/buttons
js          = /gbrowse/js
tmpimages   = /gbrowse/tmp
# using full url for tmpimages breaks under mod_perl.  Bio::Graphics::Browser 
# calls lookup_uri() on it.
#tmpimages   = http://tritrypdb.org/gbrowse/tmp /var/www/tritrypdb.org/html/gbrowse/tmp

# 24hrs/day * 360 days
image cachetime   = 8760

# Default glyph settings
glyph       = generic
height      = 8
bgcolor     = cyan
fgcolor     = cyan
label density = 25
bump density  = 2000

show sources = 0
default varying = 1 # tracks appear as defined below, not in alphabetical order

# where to link to when user clicks in detailed view
link        = /cgi-bin/gbrowse/tritrypdbaa

# what image widths to offer
image widths  = 640 800 1024 1280

# default width of detailed view (pixels)
default width = 800
default features = PfamDomains SignalP TMHMM HydropathyPlot SecondaryStructure LowComplexity BLASTP

# max and default segment sizes for detailed view
max segment     = 1000000
default segment = 500

# zoom levels
zoom levels    = 100 200 1000 2000 5000 10000

# colors of the overview, detailed map and key
overview bgcolor = lavenderblush
detailed bgcolor = thistle
key bgcolor      = mistyrose

# examples to show in the introduction
examples = LbrM01_V2.0050
           Tc00.1047053508745.30-1

# "automatic" classes to try when an unqualified identifier is given
automatic classes = protein

language = en

#empty_tracks = dashed

# a footer
# at the top...
header = \&myheader();
footer = \&myfooter();

# Various places where you can insert your own HTML -- see configuration docs
html1 = <script type="text/javascript" src="/gbrowse/apiGBrowsePopups.js"></script>
html2 = 
html3 = 
html4 = 
html5 = 
html6 = <script language="JavaScript" type="text/javascript" src="/gbrowse/wz_tooltip.js"></script>

init_code = @main::rainbow = qw(red green yellow blue khaki pink orange cyan purple);
            use vars qw( $CFG );
            use GBrowse::Configuration;
            use GBrowse::Display;
            use GBrowse::Filter;
            use GBrowse::PopupAndLinks;
            $CFG = new GBrowse::Configuration;


### TRACK CONFIGURATION ####
# the remainder of the sections configure individual tracks

###################################
# Plugin configuration
###################################

[TarletonMassSpecPeptides]
feature      = domain:MassSpecPeptides
filter       = sub { $CFG->filter_to_depth( @_, 'TarletonMassSpecPeptides', 5) }
glyph        = segments
font2color   = black
fgcolor      =  lightgrey
bgcolor      = sub { GBrowse::Display::massSpecBgColorFromExtDbName(shift) }
height       = sub { GBrowse::Display::heightByCount(shift,32) }
pad_bottom   = -1
description  = 0
link  =  javascript:void(0)
title  = sub {}
#bump density = 200
#link_target density = 100; # custom attribute
link_target  = sub { GBrowse::PopupAndLinks::massSpecTitle(shift) }
label      = 0
key       = T. cruzi MS/MS Peptides (Tarleton, et al.)
citation  = Analysis by R.L. Tarleton, et al.
         The Center for Tropical and Emerging Global Diseases, University of Georgia, Athens, GA<br><b> Color legend: Amastigote stage - mediumslateblue; Epimastigote stage - black; Metacyclic stage - brown; Trypomastigote stage - green </b>.

[StuartMassSpecPeptides]
feature      = domain:MassSpecPeptides
filter       = sub { $CFG->filter_to_depth( @_, 'StuartMassSpecPeptides', 5) }
glyph        = segments
font2color   = black
fgcolor =  lightgrey
bgcolor      = sub { GBrowse::Display::massSpecBgColorFromExtDbName(shift) }
height       = sub { GBrowse::Display::heightByCount(shift,32) }
pad_bottom   = -1
description  = 0
link  =  javascript:void(0)
title  = sub {}
#bump density = 200
#link_target density = 100; # custom attribute
link_target  = sub { GBrowse::PopupAndLinks::massSpecTitle(shift) }
label      = 0
key       = T. brucei MS/MS Peptides (Panigrahi, et. al.)
citation  = Analysis by K.D. Stuart, et al. (Proteomics 2008)
Seattle Biomedical Research Institute, 307 Westlake Ave N, Suite 500, Seattle, WA 98109, USA
E-mail: ken.stuart@sbri.org </b>.


[LinfantumMassSpecPeptides]
feature      = domain:MassSpecPeptides
filter       = sub { $CFG->filter_to_depth( @_, 'LinfantumMassSpecPeptides', 10) }
glyph        = segments
font2color   = black
fgcolor      =  lightgrey
bgcolor      = sub { GBrowse::Display::massSpecBgColorFromExtDbName(shift) }
height       = sub { GBrowse::Display::heightByCount(shift,32) }
pad_bottom   = -1
description  = 0
link         =  javascript:void(0)
title        = sub {}
link_target  = sub { GBrowse::PopupAndLinks::massSpecTitle(shift) }
label        = 0
key          = L. infantum MS/MS Peptides
citation     = Analysis by Rosenzweig <i>et. al.</i></a> (Technion Institute of Technology, Haifa 32000, Israel E-mail: danz@tx.technion.ac.il) as described by <a href="http://www.ncbi.nlm.nih.gov/pubmed/18398879">, and by <a href="http://www.mcgill.ca/chpi/members/ouellette/">Marc Ouellette's group</a> (McGill Centre for Host-Parasite Interactions, Montreal, Quebec, Canada).<br><i>L. infantum</i> mass spec results were also mapped against other <i>Leishmania</i> species.<br><b>Color legend: Amastigote - medium-slate-blue; Promastigote - blue, acetylation - slate-blue; methylation - black; glycosylation - brown; phosphorylation - green </b>.


[InterproDomains]
feature      = domain:interpro
glyph        = segments
font2color   = black
bgcolor      = sub { GBrowse::Display::interproDomainRainbow(shift) }
height       = 8 
description  = 0 
label        = 1
link_target  = sub { GBrowse::PopupAndLinks::interproTitle(shift) } 
link         = sub { GBrowse::PopupAndLinks::interproLink(shift) }
key          = Interpro Domains 
citation     = Interpro: PFam, PIR, Prints, Prodom, Smart, Superfamily, TIGRFAM, Prosite

[SignalP]
feature      = domain:SignalP
glyph        = segments
font2color   = black
bgcolor      = dodgerblue
height       = 8 
title        = sub { GBrowse::PopupAndLinks::signalpTitle(shift) }
label        = 0
description  = 0
key          = Signal Peptide
citation     = Signal peptide predictions by SP-HMM/SP-NN

[TMHMM]
feature      = domain:TMHMM
glyph        = segments
font2color   = black
bgcolor      = lightsteelblue
height       = 10 
link_target  = sub { GBrowse::PopupAndLinks::tmhmmTitle(shift) }
label        = 0
link         = 0
description  = 0
key          = Transmembrane Domains
citation     = Transmembrane domains detected by TmHMM

[HydropathyPlot]
glyph        = protein
global feature = 1
height       = 40
do_kd        = 1
fgcolor      = red
axis_color   = blue
link         = 0
citation     = Kyte-Doolittle hydropathy plot

[SecondaryStructure]
glyph        = secondary_structure
global feature = 1
height       = 40
pad_top      = 16
heading      = Secondary Structure
do_plots     = 1
fgcolor      = red
axis_color   = purple
helix_color  = red
coil_color   = white
strand_color = blue
citation     = PSIPRED secondary structure prediction

[BLASTP]
feature      = match:BLASTP
glyph        = graded_segments
font2color   = black
bgcolor      = red
height       = 8
stranded     = 1
link_target  = sub { GBrowse::PopupAndLinks::blastpTitle(shift) }
description  = 1
label        = 0
link         = http://ncbi.nlm.nih.gov/entrez/viewer.fcgi?db=protein&val=$name
key          = BLASTP Hits
citation     = BLASTP Hits

[LowComplexity]
feature      = lowcomplexity:seg
glyph        = segments
bgcolor      = grey
height       = 6
title        = sub { GBrowse::PopupAndLinks::lowcomplexitySegTitle(shift) }
description  = 0
label        = 0
link         = ""
key          = Low Complexity Regions
citation     = Regions of low sequence complexity, as defined by the
               <code>seg</code> algorithm
