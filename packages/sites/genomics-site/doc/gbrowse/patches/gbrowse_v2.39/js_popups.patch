*** balloon.js.v2.39	2011-11-16 16:02:55.000000000 -0500
--- balloon.js	2011-11-16 17:24:47.000000000 -0500
***************
*** 1065,1070 ****
--- 1065,1076 ----
      this.loadedFromElement = true;
    }
  
+   // check if the contents are to be generated by javascript
+   if (caption.match(/^javascript:/)) {
+     var jsFunctionCall = caption.split(':')[1];
+     caption = eval(jsFunctionCall);
+   }
+ 
    // check if iframes are allowed
    if (caption.match(/\<\s*iframe/i) && !this.allowIframes) {
      alert('Sorry: iframe elements '+notAllowed);
***************
*** 1087,1093 ****
    this.currentHelpText = this.getContents(caption);
    this.loadedFromElement = false;
    
!   return this.currentHelpText;;
  }
  
  
--- 1093,1099 ----
    this.currentHelpText = this.getContents(caption);
    this.loadedFromElement = false;
    
!   return this.currentHelpText;
  }
  
  
