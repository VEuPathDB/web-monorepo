@import 'ebrc-client/styles/themes.scss';
@import '~site/wdkCustomization/js/client/styles/breakpoints.scss';
@import '~site/wdkCustomization/js/client/styles/default-layout.scss';
@import '~site/wdkCustomization/js/client/styles/header.scss';
@import '~site/wdkCustomization/js/client/styles/announcements.scss';
@import '~site/wdkCustomization/js/client/styles/search-pane.scss';
@import '~site/wdkCustomization/js/client/styles/main.scss';
@import '~site/wdkCustomization/js/client/styles/news.scss';
@import '~site/wdkCustomization/js/client/styles/footer.scss';
@import '~site/wdkCustomization/js/client/styles/home-page-layout.scss';

@include themify($child: '') {
  $primary-color: themed('primary-color');
  $bckgrnd-img: themed('bckgrnd-img');
  $logo: themed('logo');
  $small-logo: themed('small-logo');
  /* TODO Remove when we're out of beta */
  $beta-position-top: themed('beta-position-top');
  $beta-position-left: themed('beta-position-left');
  $beta-font-size: themed('beta-font-size');
  $beta-position-top-small: themed('beta-position-top-small');
  $beta-position-left-small: themed('beta-position-left-small');
  $beta-font-size-small: themed('beta-font-size-small');

  .vpdb-BgDark {
    background-color: $primary-color;
  }

  .vpdb-BdDark {
    border-color: $primary-color; 
  }

  .vpdb-Header {
    background-image: $bckgrnd-img;
    background-size: cover;
    background-position: center;

    .ebrc-HeaderBrandingContainer {
      position: relative;

      a::after {
        content: "beta";
        font-style: italic;
        position: absolute;
        @if ($beta-position-top) {
          top: $beta-position-top;
        } @else {
          top: 0.8em;
        }
        left: $beta-position-left;
        @if ($beta-font-size) {
          font-size: $beta-font-size;
        } @else {
          font-size: 1.4em;
        }
        font-weight: 500;
        color: white;
      }
    }

    .ebrc-HeaderBranding {
      content: $logo;
    }

    &__collapsed {
      .ebrc-HeaderBrandingContainer {
        a::after {
          top: $beta-position-top-small;
          left: $beta-position-left-small;
          font-size: $beta-font-size-small;
        }
      }

      .ebrc-HeaderBranding {
        content: $small-logo;
      }
    }
    
    @media screen and (max-width: $cramped-header-width) {
      .ebrc-HeaderBrandingContainer {
        a::after {
          top: $beta-position-top-small;
          left: $beta-position-left-small;
          font-size: $beta-font-size-small;
        }
      }

      .ebrc-HeaderBranding {
        content: $small-logo;
      }
    }
  }

  .vpdb-SearchPane {
    .wdk-CheckboxTree {
      > .wdk-CheckboxTreeList {
        border-bottom: 0.0625rem solid $primary-color;

        @media screen and (max-width: $mobile-width) {
          border-bottom: none;
        }
      }
    }
  }

  .vpdb-Main {
    border-color: $primary-color;
  }

  .vpdb-FeaturedToolsListItem {
    &__selected {
      .vpdb-FeaturedToolsListItemIconContainer {
        border-color: $primary-color;
      }
    }

    &__selected:active, &__selected:hover, &__selected:link, &__selected:visited {
      border-color: $primary-color;
    }
  }

}


body.vpdb-Body .vpdb-RootContainer {
  @media screen and (max-width: $mobile-width) {
    grid-template-areas:
      "header"
      "banner"
      "nav"
      "content"
      "side"
      "footer";

    grid-template-rows: auto auto auto 1fr auto auto;
  }
}
