// FIXME: Come to a consensus on the font weights we'd like to provide for Roboto
@import url('https://fonts.googleapis.com/css?family=Roboto:400,500,600,700&display=swap');

body.vpdb-Body {
  background-image: unset;
  font-family: Roboto, "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;

  h1, h2, h3, h4, h5, h6 {
    font-family: Roboto, "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  }

  // FIXME: Find sensible values for these
  min-width: unset;
  width: unset;


  @mixin branding-style($primary-color, $bckgrnd-img, $logo)
  {  
    .vpdb-BgDark {
      background-color: $primary-color;
    }

    .vpdb-BdDark {
      border-color: $primary-color; 
    }

    .vpdb-Header {
      background-image: $bckgrnd-img;
      background-size: cover;
      background-position: center;

      .ebrc-HeaderBranding {
        content: $logo;
        height: 85px;
      }

      &__collapsed {
        .ebrc-HeaderBranding {
          height: 48px;
        }
      }

      @media screen and (max-width: 1000px) {
        background-color: $primary-color;

        .ebrc-HeaderBranding {
          height: 48px;
        }
      }
    }

    .vpdb-Main {
      border-color: $primary-color;
    }

    .vpdb-FeaturedToolsListItem {
      &__selected {
        .vpdb-FeaturedToolsListItemIconContainer {
          border-color: $primary-color;
        }
      }

      &__selected:active, &__selected:hover, &__selected:link, &__selected:visited {
        border-color: $primary-color;
      }
    }
  } 

  .vpdb-RootContainer {

    display: grid;

    // FIXME: Should also provide fallback styling for IE11,
    // as unfortunately, IE11 doesn't support grid-template-areas
    grid-template-areas:
      "header"
      "content"
      "footer";
    
    grid-template-columns: 100%;
  
    min-height: 100vh;

    .vpdb-Header {
      grid-area: header;

      &SearchBarToggle {
        &__hidden {
          display: none;
        }
      }

      &__collapsed {
        display: grid;
        height: auto;
        padding: 0.5em 0.75em;
        box-shadow: 0 2px 4px #00000066;
        grid-template-areas:
            "site-branding searchbar social login"
            "site-branding menubar social login";
        grid-gap: 0.5em;

        .ebrc-HeaderSearchBar {
          input, form {
            line-height: normal;
          }

          button {
            line-height: normal;
            padding: 2px 6px;
          }
        }

        .ebrc-HeaderMenuBar > .ebrc-HeaderMenuItemGroup > .ebrc-HeaderMenuItemContent {
          padding: 0 0.5em;
        }

        @media screen and (max-width: 1000px) {
          height: auto;
        }

        .ebrc-HeaderBrandingContainer {
          align-self: center;
        }

        .ebrc-HeaderBranding {
          font-size: 25px;
          color: white;
        }

        .ebrc-HeaderProjectBranding {
          display: none;
        }
  
        .UserMenu {
          align-self: flex-end;
        }
      }

      .vpdb-SubmenuDivider {
        padding: 0.5rem 0.125rem;
        border-top: 0.0625rem solid gray;
        border-bottom: 0.0625rem solid gray;
        font-weight: bold;
      }

      .vpdb-CommunitySocialMediaLink {
        display: grid;
        grid-template-columns: auto 1fr;
        grid-gap: 0.25em;
      }

      .wdk-CategoriesCheckboxTreeWrapper {
        position: relative;
        
        .wdk-CheckboxTreeItem__leaf {
          .wdk-CheckboxTreeNodeContent { 
            a {
              color: #069;
            }
      
            i {
              margin-right: 0.25em;
            }
          }
        }
      }

      .wdk-CheckboxTreeLinks {
        margin-left: 0;
      }

      .wdk-RealTimeSearchBox {
        &Input {
          border-radius: 0.5em;
          padding: 0.2em 1.5em 0.2em 1.75em;
        }

        &SearchIcon {
          left: 0.5em;
        }
      }

      @media screen and (max-width: 1000px) {
        grid-template-areas:
          "hamburger site-branding login"
          "hamburger searchbar     searchbar"
          "menubar   menubar       menubar";

        grid-template-columns: auto auto 1fr;

        grid-row-gap: 0.5em;
        padding: 0.5em 0.5em 0 0.5em;
      }
    }

    .wdk-Showcase {
      margin: 0
    }
    .News-Section .News .NewsList {
      max-height: 145px;
      border-color: rgba(15,70,100,.12);
      border-style: solid;
      border-width: 1px 0;
    }
    .News-Section .News .NewsList .NewsTeaser{
      display: none;
    }
    .News-Section .AllNewsLink {
      font-size: 110%;
    }

    .vpdb-Announcements {
      grid-area: banner;
    }

    .vpdb-SearchPane {
      grid-area: nav;

      @media screen and (min-width: 1001px) {
        border-right: 0.0625rem solid;
        padding-right: 0.1em;

        .wdk-CheckboxTree {
          > .wdk-CheckboxTreeList {
            position: relative;
            max-height: 65vh;
            overflow-y: auto;
            padding-right: 0.5em;
          }
        }
      }
      
      .wdk-RealTimeSearchBox__withHelp {
        margin-left: 0;
        width: calc(100% - 1em);
  
        .wdk-RealTimeSearchBoxInput {
          padding-left: 2.50em;
        }

      }
   
      .wdk-CheckboxTree > .wdk-CheckboxTreeList > .wdk-CheckboxTreeItem > .wdk-CheckboxTreeList {
        padding-left: 0.5em;
      }

      .wdk-CheckboxTreeList .wdk-CheckboxTreeItem__leaf .wdk-CheckboxTreeNodeContent {
        margin-left: 0.2em;
      }

      .wdk-CheckboxTreeList .wdk-CheckboxTreeItem__leaf .wdk-CheckboxTreeNodeContent i {
        //margin-left: 0.8em;
        font-size: 0.7em;
        color: grey;
      } 
    }

    .vpdb-Main {
      grid-area: content;

      margin: 1rem 0;
      padding: 0 1rem 0 1.25rem;
      position: relative;

      > hr {
        margin: 1.5rem 0 0.5rem 0;
      }
    }

    .vpdb-NewsPane {
      grid-area: side;

      @media screen and (min-width: 1001px) {
        border-left: 0.0625rem solid;

        &__news-collapsed {
          border-left-style: hidden;
        }

        .wdk-Showcase-HeadingRow {
          display: none;
        }
      }
    }

    .vpdb-Footer {
      grid-area: footer;
    }

    @media screen and (max-width: 1000px) {
      &__home {
        display: flex;
        flex-direction: column;
      }
    }

    &__header-collapsed {
      grid-template-rows: 5.5em 1fr auto;
    }

    /**** VEUPATH SITES ***/
    // eupath  bkgrnd 
    &.AmoebaDB {
      $primary-color: #82bca6;
      $bckgrnd-img: url('~site/images/VEuPathDB/veupathdb-banner.jpg');
      $logo: url('~site/images/AmoebaDB/amoeba.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    } 

    // bckgrnd dark 
    &.CryptoDB {                     
      $primary-color: #274f94;    /* #274f94 or #8b465c, banner-crypto.jpg */
      $bckgrnd-img: url('~site/images/CryptoDB/header-cryptoDB.jpg');
      $logo: url('~site/images/CryptoDB/cryptoDB.png');  /* crypto-logo-w.png, crypto-logo-2.png */
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }

/* included below
    // eupath  bkgrnd 
    &.EuPathDB {
      $primary-color: #244c63;
      $bckgrnd-img: url('~site/images/VEuPathDB/veupathdb-banner.jpg');
      $logo: url('~site/images/EuPathDB/vpdb-logo-full-inv.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }
*/

    // eupath  bkgrnd 
    &.FungiDB {
      $primary-color: #32b6cd;
      $bckgrnd-img: url('~site/images/VEuPathDB/veupathdb-banner.jpg');
      $logo: url('~site/images/FungiDB/fungi.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }

    // eupath  bkgrnd w/one watermark,  Giardia: #569551,  veupathdb-banner-GADB.jpg 
    &.GiardiaDB {
      $primary-color: #569551;
      $bckgrnd-img: url('~site/images/GiardiaDB/header-giardiaDB.jpg');
      $logo: url('~site/images/GiardiaDB/giardiaDB.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }

    // eupath  bkgrnd, default 
    &.HostDB {
      $primary-color: #244c63;
      $bckgrnd-img: url('~site/images/VEuPathDB/veupathdb-banner.jpg');
      $logo: url('~site/images/HostDB/title_s.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }

    // tinted bkgrnd  MicrosporidiaDB: #4d3c68 (same as header) or #7988b3 (second color), veupathdb-banner-MSDBtint.jpg 
    &.MicrosporidiaDB {
      $primary-color: #4d3c68;
      $bckgrnd-img: url('~site/images/MicrosporidiaDB/veupathdb-banner-MSDBtint.jpg');
      $logo: url('~site/images/MicrosporidiaDB/microsporidia.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }

    // tinted  bkgrnd  PiroplasmaDB: #8b465c (same as header) or #3a8c9f (second color), veupathdb-banner-PPDBtint.jpg 
    &.PiroplasmaDB {
      $primary-color: #8b465c;
      $bckgrnd-img: url('~site/images/PiroplasmaDB/header-piroplasmaDB.jpg');
      $logo: url('~site/images/PiroplasmaDB/piroplasmaDB.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }

/*
    // current QA colors, darker bckgr 
    &.PlasmoDB {
      $primary-color: #682039;
      $bckgrnd-img: url('~site/images/PlasmoDB/vpdb-background.jpg');
      $logo: url('~site/images/PlasmoDB/plasmo-logo_new-homepage2.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }
*/
    // bckgrnd light 
    &.PlasmoDB {
      $primary-color: #985c86;
      $bckgrnd-img: url('~site/images/PlasmoDB/header-plasmoDB.jpg');
      $logo: url('~site/images/PlasmoDB/plasmoDB.png'); 
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }
 
    // eupath bkgrnd 
    &.SchistoDB {
      $primary-color: #244c63;
      $bckgrnd-img: url('~site/images/EuPathDB/veupathdb-banner.jpg');
      $logo: url('~site/images/SchistoDB/title_s.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }

    // eupath bkgrnd 
    &.ToxoDB {
      $primary-color: #569551;
      $bckgrnd-img: url('~site/images/ToxoDB/header-toxoDB.jpg');
      $logo: url('~site/images/ToxoDB/toxoDB.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }

    // eupath bkgrnd 
    &.TrichDB {
      $primary-color: #244c63;
      $bckgrnd-img: url('~site/images/VEuPathDB/veupathdb-banner.jpg');
      $logo: url('~site/images/TrichDB/title_s.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }

    // eupath bkgrnd w/one watermark, TriTrypDB: #c06530,  veupathdb-banner-TTDB.jpg 
    &.TriTrypDB {
      $primary-color: #c06530;
      $bckgrnd-img: url('~site/images/TriTrypDB/header-tritrypDB.jpg');
      $logo: url('~site/images/TriTrypDB/tritrypDB.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }

    // bckgrnd dark 
    &.VectorBase {
      $primary-color: #115781;
      $bckgrnd-img: url('~site/images/VectorBase/header-vectorbase.jpg');
      $logo: url('~site/images/VectorBase/vectorbase.png');
      @include branding-style($primary-color, $bckgrnd-img, $logo);
    }


    /***** PORTAL *******/
    &.VEuPathDB, &.EuPathDB {
      .vpdb-Header {
        background-image: url('~site/images/VEuPathDB/veupathdb-banner.jpg');
        background-size: cover;
        background-position: center;

        .ebrc-HeaderBranding {
          position: relative;
          bottom: 20px;
          height: calc(72px * 1.2);
          content: url('~site/images/VEuPathDB/VEuPathDB.png');
        }

        &__collapsed {
          .ebrc-HeaderBranding {
            bottom: 0px;
            height: calc(48px * 1.15);
            content: url('~site/images/VEuPathDB/veupath-logo-no-tag.png');
          }
        }
      }
    }

    &__home {
      // FIXME: Should also provide fallback styling for IE11,
      // as unfortunately, IE11 doesn't support grid-template-areas
      grid-template-areas:
        "header header header"
        "banner banner banner"
        "nav content side"
        "footer footer footer";

      grid-template-rows: 12em auto 1fr auto;

      .vpdb-Main {
        overflow: hidden;
      }
    }

    &__home.vpdb-RootContainer__news-expanded {
      grid-template-columns: 26em 1fr 23em;
    }

    &__home.vpdb-RootContainer__news-collapsed {
      grid-template-columns: 31em 1fr 3em;
    }    

  }

  .vpdb-BgDark {
    background-color: #00304c;
  }

  .vpdb-BdDark {
    border-color: #00304c; 
  }

  .vpdb-BgWash {
    background-color: #eef0f2;
  }

  // Fix for question page sticky header
  .wdk-QuestionFormQuestionHeader {
    top: 5.5em;
  }
}
