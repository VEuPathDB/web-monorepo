<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>


  <global-exceptions>
    
    <exception key="global.error.user" path="/showErrorPage.do?type=user" scope="request"
               type="org.gusdb.wdk.model.WdkUserException"/>
    <exception key="global.error.model" path="/showErrorPage.do?type=model" scope="request"
               type="org.gusdb.wdk.model.WdkModelException"/>
    <exception key="global.error.runtime" path="/showErrorPage.do?type=runtime" scope="request"
               type="java.lang.RuntimeException"/>
    <exception key="global.error.other" path="/showErrorPage.do?type=other" scope="request"
               type="java.lang.Exception"/>
    <!--
    <exception type="java.lang.Exception"
               path="/WEB-INF/jsp/error.jsp"
               key="error.global.message"/>
    <exception type="java.lang.RuntimeException"
               path="/WEB-INF/jsp/error.jsp"
               key="error.global.message"/>
    -->
  </global-exceptions>

  <global-forwards type="org.apache.struts.action.ActionForward">
    <forward name="home" path="/index.jsp"/>
    <forward name="application_error" path="/wdkCustomization/jsp/Error.jsp"/>
  </global-forwards>

  <action-mappings>
  
    <!-- Front-page and Standard Actions -->
    
    <action path="/home"
        parameter="org.gusdb.wdk.controller.action.standard.GenericPageAction"
        type="org.gusdb.wdk.controller.actionutil.WdkActionWrapper">
      <forward name="success" path="/index.jsp"/>
    </action>
    <action path="/showErrorPage"
        parameter="org.gusdb.wdk.controller.action.standard.ShowErrorPageAction"
        type="org.gusdb.wdk.controller.actionutil.WdkActionWrapper"
        scope="request">
    </action>

    <!-- * is question set name -->
	<action
		path="/*.wadl"
		type="org.gusdb.wdk.controller.action.services.ProcessRESTAction"
		scope="request"
		validate="false" 
		parameter="{1}.all::wadl"/>

    <!--
        {1} question set name
        {2} question name; if the name is "all" & {3} is wadl, it's equivalent to the action above.
        {3} json|xml|wadl
     -->
	<action
       path="/*/*.*"
       type="org.gusdb.wdk.controller.action.services.ProcessRESTAction"
       scope="request"
	   validate="false"
	   parameter="{1}.{2}::{3}"/>


  </action-mappings>

  <controller maxFileSize="10M" contentType="text/html; charset=ISO-8859-1" />

  <message-resources parameter="org.gusdb.wdk.view.DefaultViewResources" null="false"/>

</struts-config>
